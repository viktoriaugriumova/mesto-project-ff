(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Горы Архыз"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Зимняя река в Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Серые панельные дома"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Гора на Камчатке"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Железная дорога, идущая сквозь лес"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Зимний обрыв над Байкалом"}];function t(e){e.target.closest(".places__item").remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function r(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=o.querySelector(".card__image");return o.querySelector(".card__title").textContent=e.name,o.querySelector(".card__image").src=e.link,o.querySelector(".card__image").alt=e.alt,o.querySelector(".card__delete-button").addEventListener("click",t),o.querySelector(".card__like-button").addEventListener("click",n),c.addEventListener("click",(function(){return r(c.src,c.alt)})),o}function o(e){e.classList.add("popup_is-opened"),document.querySelector(".popup_is-opened").addEventListener("click",p),document.addEventListener("click",u),document.addEventListener("keydown",a)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("click",u),document.removeEventListener("keydown",a),document.removeEventListener("click",p)}function p(e){e.target===e.currentTarget&&c(e.currentTarget)}function a(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function u(e){var t=e.target.closest(".popup__close");t&&c(t.closest(".popup"))}var l=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),d=document.querySelector(".popup_type_edit"),s=document.querySelector(".profile__title"),m=document.querySelector(".profile__description"),_=d.querySelector(".popup__form"),y=_.querySelector('input[name="name"]'),v=_.querySelector('input[name="description"]'),f=document.querySelector(".profile__add-button"),k=document.querySelector(".popup_type_new-card"),q=k.querySelector(".popup__form");function S(e,t){var n=document.querySelector(".popup_type_image"),r=n.querySelector(".popup__image"),c=n.querySelector(".popup__caption");r.src=e,r.alt=t,c.textContent=t,o(n)}q.querySelector(".popup__input_type_card-name"),q.querySelector(".popup__input_type_url"),document.querySelector(".popup_type_image"),function(){for(var o=0;o<e.length;o++){var c=r(e[o],t,n,S);l.append(c)}}(),i.addEventListener("click",(function(){y.value=s.textContent,v.value=m.textContent,o(d)})),d.addEventListener("submit",(function(e){e.preventDefault(),s.textContent=y.value,m.textContent=v.value,c(d)})),f.addEventListener("click",(function(){o(k)})),q.addEventListener("submit",(function(e){var t;e.preventDefault(),l.prepend((t=r({name:q.querySelector('input[name="place-name"]').value,link:q.querySelector('input[name="link"]').value},void 0,void 0,void 0),console.log(t),t)),c(k),q.reset()}))})();